(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["popups"],{"437d":function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{class:t.classes},[t.shouldRender?s("div",{staticClass:"popup"},[t._t("default",null,{isVisible:t.isActive&&t.isVisible})],2):t._e()])},i=[],n=s("6e95"),o=s("d257");const r=500;var c=n["a"].extend({name:"popup",props:{name:{type:String,required:!0},isDrawer:{type:Boolean,default:!1},isModal:{type:Boolean,default:!0},isModalSmall:{type:Boolean,default:!1},alwaysRender:{type:Boolean,default:!1}},data:()=>({isVisible:!1}),computed:{isActive(){return this.$store.getters.isPopupWithNameActive(this.name)},shouldRender(){return!!this.alwaysRender||(this.isActive||this.isVisible)},classes(){const t={drawer:this.isDrawer,modal:this.isModal,"modal-small":this.isModalSmall,"js-show":this.isVisible&&this.isActive,"js-hide":!this.isVisible||!this.isActive};return t}},mounted(){this.isActive&&this.onActive()},watch:{isActive(t,e){t!==e&&(t?this.onActive():this.onInactive())}},methods:{async onActive(){await Object(o["c"])(10),this.$nextTick(()=>{this.isVisible=!0})},async onInactive(){await Object(o["c"])(r),this.isVisible=!1}}}),l=c,u=s("2877"),p=Object(u["a"])(l,a,i,!1,null,null,null);e["a"]=p.exports},"59a1":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"dialogs"},[s("EncyclopediaPopup"),s("ResetProgressPopup"),s("BasePopup",{staticClass:"settings modal any",attrs:{name:t.POPUPS.SETTINGS},scopedSlots:t._u([{key:"default",fn:function(t){var e=t.isVisible;return[s("SettingsPopup",{attrs:{"is-visible":e}})]}}])}),s("BasePopup",{staticClass:"modal small",attrs:{name:t.POPUPS.LOGIN}},[t.shouldRenderLogin?s("LoginPopup"):t._e()],1),s("BasePopup",{staticClass:"modal any",attrs:{name:t.POPUPS.SYNC}},[t.shouldRenderSync?s("SyncPopup"):t._e()],1),s("NewsPopup"),s("div",{staticClass:"overlay",class:t.overlayClasses,on:{click:t.hide}})],1)},i=[],n=s("6e95"),o=s("5c57"),r=s("2de2"),c=s("b2eb"),l=s("437d"),u=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("BasePopup",{staticClass:"encyclopedia modal any",attrs:{name:t.name,alwaysRender:!0}},[s("CloseButton"),s("div",{staticClass:"popup-header hide-in-drawer"},[t._v("Encyclopedia")]),s("div",{staticClass:"encyclopedia-container"},[s("iframe",{ref:"iframe",staticClass:"encyclopedia",attrs:{id:t.ENCYCLOPEDIA_ID,title:"Encyclopedia"}})])],1)},p=[],d=s("d257"),h=s("c55c"),v=s("e879"),m=n["a"].extend({name:"encyclopedia-popup",components:{BasePopup:l["a"],CloseButton:v["a"]},computed:{name(){return c["ENCYCLOPEDIA"]},ENCYCLOPEDIA_ID(){return h["a"]},isLibraryRendered(){return this.$store.getters.isLibraryRendered}},mounted(){if(this.isLibraryRendered)this.loadEncyclopedia();else{const t=this.$watch(()=>this.isLibraryRendered,e=>{e&&(this.loadEncyclopedia(),t())})}},methods:{loadEncyclopedia(){"requestIdleCallback"in window?window.requestIdleCallback(this.setUrl,{timeout:300}):Object(d["b"])(this.setUrl)},setUrl(){const t="/encyclopedia/";this.$refs.iframe.src=`${t}#${r["j"]}`}}}),b=m,f=s("2877"),g=Object(f["a"])(b,u,p,!1,null,null,null),y=g.exports,O=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("BasePopup",{staticClass:"modal small",attrs:{name:t.name}},[s("CloseButton",{attrs:{"is-back":!0},on:{click:t.hide}}),s("div",{staticClass:"popup-header"},[t._v("Reset Progress")]),s("div",{staticClass:"content"},[s("div",{staticClass:"group text-center"},[t._v(" Are you sure? ")]),s("div",{staticClass:"button-group"},[s("div",{staticClass:"popup-button",on:{click:t.reset}},[s("div",{staticClass:"label"},[t._v("Reset!")])]),s("div",{staticClass:"popup-button",on:{click:t.hide}},[s("div",{staticClass:"label"},[t._v("Actually... no")])])])])],1)},C=[],w=n["a"].extend({name:"reset-progress-popup",components:{BasePopup:l["a"],CloseButton:v["a"]},computed:{name(){return c["PROGRESS_RESET"]}},methods:{reset(){this.$store.dispatch("resetProgress"),this.$store.dispatch("popupHide",void 0)},hide(){this.$store.dispatch("popupShowNext",{name:c["SETTINGS"]})}}}),P=w,j=Object(f["a"])(P,O,C,!1,null,null,null),_=j.exports,S=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("CloseButton"),s("div",{staticClass:"popup-header"},[t._v(" Settings ")]),s("div",{staticClass:"content"},[s("div",{staticClass:"group audio-controls-container"},[s("div",{staticClass:"audio-controls-switch"},[s("input",{staticClass:"menuCheckbox mute-music",attrs:{id:"mute-music",type:"checkbox"},domProps:{checked:!t.playMusic},on:{change:t.onMuteMusicChange}}),s("label",{attrs:{for:"mute-music"}},[s("div",{staticClass:"switch-button"},[s("div",{staticClass:"label"},[t.playMusic?s("IconMusicOn",{staticClass:"icon"}):s("IconMusicOff",{staticClass:"icon"})],1)]),s("div",{staticClass:"switch-label"},[t._v(" music ")])])]),s("div",{staticClass:"audio-controls-switch"},[s("input",{staticClass:"menuCheckbox mute-sfx",attrs:{id:"mute-sfx",type:"checkbox"},domProps:{checked:!t.playSfx},on:{change:t.onMuteSfxChange}}),s("label",{attrs:{for:"mute-sfx"}},[s("div",{staticClass:"switch-button"},[s("div",{staticClass:"label"},[t.playSfx?s("IconAudioOn",{staticClass:"icon"}):s("IconAudioOff",{staticClass:"icon"})],1)]),s("div",{staticClass:"switch-label"},[t._v(" sounds ")])])])]),s("div",{staticClass:"group"},[s("Button",{on:{click:t.onClearRevert}},[t.workspaceRevertable?s("div",[t._v("revert")]):s("div",[t._v("clean up")])]),t.isLoggedIn?s("Button",{class:t.logoutClasses,on:{click:t.logout}},[t._v(" logout ")]):s("Button",{class:t.disabledClasses,on:{click:t.login}},[t._v(" login ")])],1),s("div",{staticClass:"group"},[s("Button",{attrs:{disabled:!t.areTutorialsFinished},on:{click:t.showResetProgress}},[t._v(" Reset"),s("span",{staticClass:"hide-small"},[t._v(" progress")])]),s("Button",{on:{click:t.contact}},[t._v(" Contact"),s("span",{staticClass:"hide-small"},[t._v(" us")])])],1),s("div",{staticClass:"build-id"},[t._v("build id: "+t._s(t.buildId))])])],1)},x=[],k=s("da33"),E=["class","staticClass","style","staticStyle","attrs"];function A(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}function M(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?A(Object(s),!0).forEach((function(e){B(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):A(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}function B(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}function D(t,e){if(null==t)return{};var s,a,i=R(t,e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);for(a=0;a<n.length;a++)s=n[a],e.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(t,s)&&(i[s]=t[s])}return i}function R(t,e){if(null==t)return{};var s,a,i={},n=Object.keys(t);for(a=0;a<n.length;a++)s=n[a],e.indexOf(s)>=0||(i[s]=t[s]);return i}var L={functional:!0,render:function(t,e){var s=e._c,a=(e._v,e.data),i=e.children,n=void 0===i?[]:i,o=a["class"],r=a.staticClass,c=a.style,l=a.staticStyle,u=a.attrs,p=void 0===u?{}:u,d=D(a,E);return s("svg",M({class:[o,r],style:[c,l],attrs:Object.assign({id:"icon-audio-on",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},p)},d),n.concat([s("path",{attrs:{d:"M52 40.1a1.5 1.5 0 01-1.15-2.46A14.37 14.37 0 0052 32a14.13 14.13 0 00-1.18-5.67 1.48 1.48 0 01.2-2.1 1.52 1.52 0 012.13.21C54 25.49 55 28.94 55 32s-1 6.51-1.85 7.56a1.5 1.5 0 01-1.15.54z"}}),s("path",{attrs:{d:"M60 44.5a1.5 1.5 0 01-1.2-2.4C60 40.51 61 35.88 61 32s-1-8.51-2.2-10.1a1.5 1.5 0 012.4-1.8C63 22.52 64 28 64 32s-1 9.48-2.8 11.9a1.5 1.5 0 01-1.2.6z"}}),s("path",{attrs:{d:"M41.5 8.54a4.42 4.42 0 00-4.69.46L23.93 19l-7.22.66a5.15 5.15 0 00-4.71 5.2v14.28a5.15 5.15 0 004.71 5.16l7.22.66L36.81 55A4.45 4.45 0 0044 51.46V12.54a4.42 4.42 0 00-2.5-4zM15 39.14V24.86a2.17 2.17 0 012-2.17l6-.55v19.72l-6-.55a2.17 2.17 0 01-2-2.17zm26 12.32a1.45 1.45 0 01-2.34 1.15L26 42.77V21.23l12.66-9.84A1.45 1.45 0 0141 12.54z"}})]))}},I=["class","staticClass","style","staticStyle","attrs"];function $(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}function z(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?$(Object(s),!0).forEach((function(e){T(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):$(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}function T(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}function N(t,e){if(null==t)return{};var s,a,i=V(t,e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);for(a=0;a<n.length;a++)s=n[a],e.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(t,s)&&(i[s]=t[s])}return i}function V(t,e){if(null==t)return{};var s,a,i={},n=Object.keys(t);for(a=0;a<n.length;a++)s=n[a],e.indexOf(s)>=0||(i[s]=t[s]);return i}var H={functional:!0,render:function(t,e){var s=e._c,a=(e._v,e.data),i=e.children,n=void 0===i?[]:i,o=a["class"],r=a.staticClass,c=a.style,l=a.staticStyle,u=a.attrs,p=void 0===u?{}:u,d=N(a,I);return s("svg",z({class:[o,r],style:[c,l],attrs:Object.assign({id:"icon-audio-off",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},p)},d),n.concat([s("path",{attrs:{d:"M3 62.5a1.5 1.5 0 01-1.06-2.56l58-58a1.5 1.5 0 012.12 2.12l-58 58A1.5 1.5 0 013 62.5z"}}),s("path",{attrs:{d:"M41 29.36v22.1a1.45 1.45 0 01-2.34 1.15L26.9 43.47l-2.14 2.13L36.81 55A4.45 4.45 0 0044 51.46v-25.1z"}}),s("path",{attrs:{d:"M16.71 44.3l4.69.43 4.6-4.6v-18.9l12.66-9.84A1.45 1.45 0 0141 12.54v12.58l3-3v-9.58A4.45 4.45 0 0036.81 9L23.93 19l-7.22.66a5.15 5.15 0 00-4.71 5.2v14.28a5.15 5.15 0 004.71 5.16zM15 24.86a2.17 2.17 0 012-2.17l6-.55v19.72l-6-.55a2.17 2.17 0 01-2-2.17z"}})]))}},G=["class","staticClass","style","staticStyle","attrs"];function U(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}function W(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?U(Object(s),!0).forEach((function(e){Y(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):U(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}function Y(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}function q(t,e){if(null==t)return{};var s,a,i=F(t,e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);for(a=0;a<n.length;a++)s=n[a],e.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(t,s)&&(i[s]=t[s])}return i}function F(t,e){if(null==t)return{};var s,a,i={},n=Object.keys(t);for(a=0;a<n.length;a++)s=n[a],e.indexOf(s)>=0||(i[s]=t[s]);return i}var K={functional:!0,render:function(t,e){var s=e._c,a=(e._v,e.data),i=e.children,n=void 0===i?[]:i,o=a["class"],r=a.staticClass,c=a.style,l=a.staticStyle,u=a.attrs,p=void 0===u?{}:u,d=q(a,G);return s("svg",W({class:[o,r],style:[c,l],attrs:Object.assign({id:"icon-music-on",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},p)},d),n.concat([s("path",{attrs:{d:"M8 35.5A1.5 1.5 0 016.5 34v-4a1.5 1.5 0 013 0v4A1.5 1.5 0 018 35.5z"}}),s("path",{attrs:{d:"M14 40a1.5 1.5 0 01-1.5-1.5v-13a1.5 1.5 0 013 0v13A1.5 1.5 0 0114 40z"}}),s("path",{attrs:{d:"M20 48.5a1.5 1.5 0 01-1.5-1.5V17a1.5 1.5 0 013 0v30a1.5 1.5 0 01-1.5 1.5z"}}),s("path",{attrs:{d:"M26 43a1.5 1.5 0 01-1.5-1.5v-19a1.5 1.5 0 013 0v19A1.5 1.5 0 0126 43z"}}),s("path",{attrs:{d:"M32 45.5a1.5 1.5 0 01-1.5-1.5V20a1.5 1.5 0 013 0v24a1.5 1.5 0 01-1.5 1.5z"}}),s("path",{attrs:{d:"M38 36.5a1.5 1.5 0 01-1.5-1.5v-6a1.5 1.5 0 013 0v6a1.5 1.5 0 01-1.5 1.5z"}}),s("path",{attrs:{d:"M44 40.5a1.5 1.5 0 01-1.5-1.5V25a1.5 1.5 0 013 0v14a1.5 1.5 0 01-1.5 1.5z"}}),s("path",{attrs:{d:"M50 43a1.5 1.5 0 01-1.5-1.5v-19a1.5 1.5 0 013 0v19A1.5 1.5 0 0150 43z"}}),s("path",{attrs:{d:"M56 35a1.5 1.5 0 01-1.5-1.5v-3a1.5 1.5 0 013 0v3A1.5 1.5 0 0156 35z"}})]))}},J=["class","staticClass","style","staticStyle","attrs"];function Q(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}function X(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?Q(Object(s),!0).forEach((function(e){Z(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):Q(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}function Z(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}function tt(t,e){if(null==t)return{};var s,a,i=et(t,e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);for(a=0;a<n.length;a++)s=n[a],e.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(t,s)&&(i[s]=t[s])}return i}function et(t,e){if(null==t)return{};var s,a,i={},n=Object.keys(t);for(a=0;a<n.length;a++)s=n[a],e.indexOf(s)>=0||(i[s]=t[s]);return i}var st={functional:!0,render:function(t,e){var s=e._c,a=(e._v,e.data),i=e.children,n=void 0===i?[]:i,o=a["class"],r=a.staticClass,c=a.style,l=a.staticStyle,u=a.attrs,p=void 0===u?{}:u,d=tt(a,J);return s("svg",X({class:[o,r],style:[c,l],attrs:Object.assign({id:"icon-music-off",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},p)},d),n.concat([s("path",{attrs:{d:"M8 35a1.5 1.5 0 01-1.5-1.5v-3a1.5 1.5 0 013 0v3A1.5 1.5 0 018 35z"}}),s("path",{attrs:{d:"M14 37.5a1.5 1.5 0 01-1.5-1.5v-8a1.5 1.5 0 013 0v8a1.5 1.5 0 01-1.5 1.5z"}}),s("path",{attrs:{d:"M20 40.5a1.5 1.5 0 01-1.5-1.5V25a1.5 1.5 0 013 0v14a1.5 1.5 0 01-1.5 1.5z"}}),s("path",{attrs:{d:"M26 38a1.5 1.5 0 01-1.5-1.5v-9a1.5 1.5 0 013 0v9A1.5 1.5 0 0126 38z"}}),s("path",{attrs:{d:"M44 37a1.5 1.5 0 01-1.5-1.5v-7a1.5 1.5 0 013 0v7A1.5 1.5 0 0144 37z"}}),s("path",{attrs:{d:"M50 39a1.5 1.5 0 01-1.5-1.5v-11a1.5 1.5 0 013 0v11A1.5 1.5 0 0150 39z"}}),s("path",{attrs:{d:"M56 35a1.5 1.5 0 01-1.5-1.5v-3a1.5 1.5 0 013 0v3A1.5 1.5 0 0156 35z"}}),s("path",{attrs:{d:"M3 62.5a1.5 1.5 0 01-1.06-2.56l58-58a1.5 1.5 0 012.12 2.12l-58 58A1.5 1.5 0 013 62.5z"}}),s("path",{attrs:{d:"M36.5 33.86V34a1.5 1.5 0 003 0v-3.14z"}}),s("path",{attrs:{d:"M30.88 39.49a1.49 1.49 0 002.62-1v-1.63z"}}),s("path",{attrs:{d:"M33.5 32.62V25.5a1.5 1.5 0 00-3 0v10.12z"}})]))}},at=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",t._g({staticClass:"popup-button"},t.$listeners),[s("div",{staticClass:"label"},[t._t("default")],2)])},it=[],nt=n["a"].extend({name:"popup-common-button"}),ot=nt,rt=Object(f["a"])(ot,at,it,!1,null,null,null),ct=rt.exports,lt=n["a"].extend({name:"settings-popup",components:{BasePopup:l["a"],CloseButton:v["a"],Button:ct,IconAudioOn:L,IconAudioOff:H,IconMusicOn:K,IconMusicOff:st},props:{isVisible:{type:Boolean,default:!1}},computed:{...Object(o["b"])(["isAudioEnabled","isLoggedIn","playMusic","playSfx","online","workspaceRevertable","areTutorialsFinished","canLogout"]),name(){return c["SETTINGS"]},disabledClasses(){return{"js-disabled":!this.online}},logoutClasses(){return{"js-disabled":!this.canLogout}},buildId(){return window.__COMMIT_HASH()}},beforeDestroy(){this.handleGameClass(!1)},watch:{async isVisible(t,e){t!==e&&this.handleGameClass(t)}},methods:{onMuteMusicChange({target:{checked:t}}){const e=!t;this.$store.dispatch("settingsMusic",e)},onMuteSfxChange({target:{checked:t}}){const e=!t;this.$store.dispatch("settingsSfx",e)},onClearRevert(){this.$store.dispatch("workspaceClearRevertStart")},showResetProgress(){this.areTutorialsFinished&&this.$store.dispatch("popupShowNext",{name:c["PROGRESS_RESET"]})},login(){this.online&&this.$store.dispatch("popupShowNext",{name:c["LOGIN"]})},logout(){this.canLogout&&k["a"].logout()},contact(){window.open(r["d"],"_blank")},hide(){this.$store.dispatch("popupHide",void 0)},handleGameClass(t){const e="js-settings-shown",s=t?"add":"remove",a=document.getElementById("js-game");a&&a.classList[s](e)}}}),ut=lt,pt=Object(f["a"])(ut,S,x,!1,null,null,null),dt=pt.exports,ht=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"popup-header"},[t._v(" Progress Conflict ")]),s("div",{staticClass:"content"},[t._m(0),s("div",{staticClass:"popup-2-buttons-sync"},[s("div",{staticClass:"group"},[s("div",{staticClass:"bold"},[t._v("Keep the local save ("+t._s(t.isLocalNewer?"newer":"older")+")")]),s("div",{staticClass:"collapse-to-inline"},[t._v(t._s(t.localCount)+" items,")]),s("div",{staticClass:"collapse-to-inline"},[t._v("saved "+t._s(t.formatSince(t.lastLocal)))]),s("Button",{on:{click:t.local}},[t._v(" local ")])],1),s("div",{staticClass:"group"},[s("div",{staticClass:"bold"},[t._v("Keep the cloud save ("+t._s(t.isRemoteNewer?"newer":"older")+")")]),s("div",{staticClass:"collapse-to-inline"},[t._v(t._s(t.remoteCountTotal)+" items,")]),s("div",{staticClass:"collapse-to-inline"},[t._v("saved "+t._s(t.formatSince(t.syncData.timestamp)))]),s("Button",{on:{click:t.remote}},[t._v(" cloud ")])],1)]),s("div",{staticClass:"group"},[s("div",{staticClass:"bold text-center"},[t._v(" Keep all progress from both saves ")]),s("Button",{on:{click:t.merge}},[t._v(" merge ")])],1)])])},vt=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"group text-center"},[s("div",[t._v("Local and cloud progress contain conflicting information. Sometimes it can happen if you reset your game.")])])}],mt=s("f2ce"),bt=n["a"].extend({name:"sync-popup",components:{BasePopup:l["a"],Button:ct},data:()=>({isHiding:!1}),computed:{...Object(o["b"])(["isPopupWithNameActive","history","historyLastTimestamp","resetTimestamp","popupData","base","prime","totalProgress"]),name(){return c["SYNC"]},isActive(){return this.isPopupWithNameActive(this.name)||this.isHiding},lastLocal(){return this.history.length?this.historyLastTimestamp:this.resetTimestamp},localCount(){return this.totalProgress-this.base.length},showCaution(){return-1!==this.resetTimestamp||this.syncData.reseted},isRemoteNewer(){return this.syncData.timestamp>this.lastLocal},isLocalNewer(){return!this.isRemoteNewer},syncData(){const t=this.popupData;return t||{timestamp:Date.now(),reseted:!1,count:0}},remoteCountTotal(){return this.syncData.count+this.prime.length}},methods:{formatSince(t){return t<=0?"":Object(d["i"])(t)},local(){this.syncData.onSuccess&&this.syncData.onSuccess(mt["a"].LOCAL),this.hide()},merge(){this.syncData.onSuccess&&this.syncData.onSuccess(mt["a"].MERGE),this.hide()},remote(){this.syncData.onSuccess&&this.syncData.onSuccess(mt["a"].REMOTE),this.hide()},hide(){this.isHiding=!0,this.$store.dispatch("popupHide",void 0),window.setTimeout(()=>{this.isHiding=!1},c["HIDE_DURATION"])}}}),ft=bt,gt=Object(f["a"])(ft,ht,vt,!1,null,null,null),yt=gt.exports,Ot=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.shouldShow?s("BasePopup",{staticClass:"modal small",attrs:{name:t.name}},[s("CloseButton"),s("div",{staticClass:"popup-header"},[t._v(t._s(t.title))]),s("div",{staticClass:"content"},["url"===t.action.type?s("a",{attrs:{href:t.actionData,target:"_blank"},on:{click:t.onActionClick}},[s("div",{staticClass:"news-image"},[s("img",{attrs:{src:t.img}})])]):s("div",{staticClass:"news-image"},[s("img",{attrs:{src:t.img},on:{click:t.onActionClick}})]),s("div",{staticClass:"group text-center",domProps:{innerHTML:t._s(t.text)}}),t.action?s("div",[s("Button",{on:{click:t.onActionClick}},[t._v(" "+t._s(t.actionText)+" ")])],1):t._e()])],1):t._e()},Ct=[],wt=s("1663"),Pt=n["a"].extend({name:"news-popup",components:{BasePopup:l["a"],CloseButton:v["a"],Button:ct},computed:{name(){return c["NEWS"]},news(){return this.$store.getters.popupData||{}},isActive(){return this.$store.getters.isPopupWithNameActive(this.name)},shouldShow(){return!!this.title.length&&!!this.text.length},title(){return this.news.title||""},text(){return this.news.text||""},img(){return this.news.img||""},action(){return this.news.action||null},actionData(){return this.action?this.action.data:""},actionText(){return this.action?this.action.text:""}},methods:{onActionClick(){if(!this.action)return;const{type:t}=this.action;"url"===t&&window.open(this.actionData,"_blank"),"event"===t&&wt["a"].emit(this.actionData,this.action.data||{}),this.hide()},hide(){this.$store.dispatch("popupHide",void 0)}}}),jt=Pt,_t=Object(f["a"])(jt,Ot,Ct,!1,null,null,null),St=_t.exports,xt=n["a"].extend({name:"popups",components:{BasePopup:l["a"],EncyclopediaPopup:y,ResetProgressPopup:_,SettingsPopup:dt,SyncPopup:yt,NewsPopup:St,LoginPopup:()=>s.e("login").then(s.bind(null,"a167"))},computed:{...Object(o["b"])(["isPopupClosable","isPopupOverlayActive","isPlaying","isLoggedIn"]),overlayClasses(){return{"js-active":this.isPopupOverlayActive}},shouldRenderLogin(){return r["h"]||this.isPlaying&&this.isPopupOverlayActive},shouldRenderSync(){return r["h"]||this.isLoggedIn},POPUPS(){return c}},methods:{hide(){this.isPopupClosable&&this.$store.dispatch("popupHide",void 0)}}}),kt=xt,Et=Object(f["a"])(kt,a,i,!1,null,null,null);e["default"]=Et.exports},a11e:function(t,e,s){t.exports=s.p+"img/back.3e60f39c.svg"},da33:function(t,e,s){"use strict";var a=s("6eeb");class i{login(t){return a["a"].auth.login(t)}logout(){return a["a"].auth.logout()}mailLogin(t){return a["a"].auth.mail.login(t)}mailSignup(t){return a["a"].auth.mail.signup(t)}mailReset(t){return a["a"].auth.mail.sendResetEmail(t)}async mailCheckProviders(t){const e=await a["a"].auth.mail.checkProviders(t);return"google.com"===e?(this.login("google"),null):"facebook.com"===e?(this.login("facebook"),null):e}}e["a"]=new i},e879:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"close border",on:{click:t.onClick}},[t.isBack?a("img",{staticClass:"label",attrs:{src:s("a11e"),alt:"back"}}):a("img",{staticClass:"label",attrs:{src:s("2260"),alt:"close"}})])},i=[],n=s("6e95"),o=n["a"].extend({name:"popup-close-button",props:{isBack:{type:Boolean,required:!1,default:!1}},methods:{onClick(){this.$emit("click"),this.isBack||this.$store.dispatch("popupHide",void 0)}}}),r=o,c=s("2877"),l=Object(c["a"])(r,a,i,!1,null,null,null);e["a"]=l.exports},f2ce:function(t,e,s){"use strict";var a;s.d(e,"a",(function(){return a})),function(t){t["MERGE"]="merge",t["LOCAL"]="local",t["REMOTE"]="remote"}(a||(a={}));a.MERGE}}]);
//# sourceMappingURL=popups.7ff1f250.js.map